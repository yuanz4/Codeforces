https://codeforces.com/gym/102257
A: 通过观察数据，可以发现出现是成环的。首先可以肯定的是A*B是一个循环，但其实可以更小。假如有t，然后我们想要找一个最近的t'使得x和y都与t的相同。对于y，t'=t+k*B。然后代入x，(t+k*B+(t+k*B)/B)%A=(t+t/B)%A => k*(B+1)%A=0。首先k取A肯定是可以的，但是可以除去gcd(A,B+1)，因此k最小取A/gcd(A,B+1)。再加上对于y的约束，所以循环为A*B/gcd(A,B+1)。因此剩下的就是把区间覆盖到这个循环上，即把线段排序，然后合并。要注意ll溢出的情况，用除法代替乘法。需要注意len比最大r[i]大的情况，直接相加每一段。另外要注意某一段segment长度大于len的情况，需要直接输出len